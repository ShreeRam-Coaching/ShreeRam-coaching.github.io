<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Shree Ram Coaching — Portal</title>

  <!-- =======================
       (BEGIN) YOUR ORIGINAL
       PLAN UI — KEPT 100% AS-IS
       ======================= -->
  <style>
    /* Reset and basics */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: Inter, system-ui, Arial, sans-serif;
      background: #f5f9ff;
      color: #0b1220;
      line-height: 1.4;
    }
    a { color: inherit; }

    /* Main site container */
    .container {
      max-width: 1100px;
      margin: 20px auto;
      padding: 0 16px;
      filter: none;
      transition: filter 0.3s ease;
    }
    /* When modal is open, dim the background */
    body.modal-open .container {
      filter: blur(3px) brightness(0.7);
      pointer-events: none;
      user-select: none;
    }

    /* Navbar styles */
    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 0;
      background: white;
      position: sticky;
      top: 0;
      z-index: 10;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    .brand {
      display: flex;
      gap: 12px;
      align-items: center;
    }
    .logo {
      width: 56px;
      height: 56px;
      border-radius: 10px;
      background: linear-gradient(135deg, #0f6eff, #60a5fa);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: 800;
      font-size: 24px;
    }
    .brand h1 {
      font-size: 18px;
    }
    .nav-links {
      display: flex;
      gap: 12px;
      align-items: center;
    }
    .nav-links a {
      padding: 8px 10px;
      border-radius: 8px;
      color: #374151;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
    }

    /* Modal background */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    /* Modal container */
    .modal {
      background: white;
      border-radius: 15px;
      padding: 24px 32px;
      width: 90%;
      max-width: 700px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.3);
      display: flex;
      gap: 24px;
      flex-wrap: wrap;
      justify-content: center;
    }

    /* Each plan card */
    .plan {
      flex: 1 1 200px;
      border-radius: 12px;
      padding: 20px 16px;
      box-shadow: 0 8px 30px rgba(10,20,40,0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      position: relative;
      transition: transform 0.3s ease;
    }
    .plan:hover {
      transform: translateY(-8px);
      box-shadow: 0 18px 50px rgba(10,20,40,0.15);
    }

    /* Plan titles */
    .plan h2 {
      font-weight: 700;
      margin-bottom: 8px;
      font-size: 22px;
    }

    /* Plan price */
    .price {
      font-size: 28px;
      font-weight: 800;
      margin-bottom: 16px;
      color: #0f6eff;
    }

    /* Features list */
    ul.features {
      list-style: none;
      padding-left: 0;
      margin-bottom: 24px;
      color: #444;
      font-size: 15px;
      text-align: left;
    }
    ul.features li {
      margin-bottom: 10px;
      padding-left: 18px;
      position: relative;
    }
    ul.features li::before {
      content: "✓";
      position: absolute;
      left: 0;
      color: #0f6eff;
      font-weight: bold;
    }

    /* Buttons */
    button.subscribe-btn {
      background: #0f6eff;
      color: white;
      font-weight: 700;
      padding: 12px 24px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      width: 100%;
      font-size: 16px;
      transition: background-color 0.3s ease;
    }
    button.subscribe-btn:hover {
      background: #0956cc;
    }

    /* Free plan button style */
    button.free-btn {
      background: transparent;
      color: #0f6eff;
      font-weight: 700;
      padding: 12px 24px;
      border-radius: 10px;
      border: 2px solid #0f6eff;
      cursor: pointer;
      width: 100%;
      font-size: 16px;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    button.free-btn:hover {
      background: #0f6eff;
      color: white;
    }

    /* Responsive */
    @media (max-width: 640px) {
      .modal {
        flex-direction: column;
      }
      .plan {
        width: 100%;
      }
    }
  </style>
  <!-- =======================
       (END) YOUR ORIGINAL
       PLAN UI — KEPT 100% AS-IS
       ======================= -->

  <!-- ================== Appended styles (app, dashboard, class pages) ================== -->
  <style>
    /* app wrapper */
    .app-hidden { display:none; }
    .app { max-width:1200px; margin:18px auto; padding:0 18px 80px; font-family:Inter,system-ui,Arial,sans-serif; }

    /* header */
    .app-header { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:14px; background:#fff; border-radius:12px; box-shadow:0 8px 30px rgba(10,20,40,0.06); position:sticky; top:12px; z-index:60; }
    .logoBox { width:56px; height:56px; border-radius:10px; background:linear-gradient(135deg,#2b8bff,#6fb0ff); display:flex; align-items:center; justify-content:center; color:#fff; font-weight:800; font-size:22px; }
    .small-muted { font-size:12px; color:#6b7280; }

    /* dashboard */
    .dashboard { margin-top:18px; }
    .dash-grid { display:flex; gap:16px; flex-wrap:wrap; align-items:flex-start; }
    .class-tile { background:#fff; padding:18px; border-radius:12px; box-shadow:0 10px 30px rgba(10,20,40,0.06); min-width:220px; cursor:pointer; transition:transform .15s ease; display:flex; flex-direction:column; gap:8px; }
    .class-tile:hover { transform: translateY(-6px); }

    /* class page */
    .class-page { margin-top:18px; }
    .breadcrumbs { display:flex; gap:8px; align-items:center; color:#374151; font-weight:700; }
    .breadcrumbs .arrow { font-weight:800; color:#9aa4b2; margin: 0 6px; }

    .subject-list, .chapter-list { margin-top:16px; display:flex; gap:12px; flex-wrap:wrap; }
    .subject, .chapter { background:#fff; padding:14px; border-radius:10px; box-shadow:0 8px 20px rgba(10,20,40,0.05); cursor:pointer; min-width:160px; text-align:center; }
    .subject.active, .chapter.active { outline: 3px solid rgba(15,110,255,0.12); }

    .notes-panel { margin-top:18px; background:#fff; padding:16px; border-radius:12px; box-shadow:0 8px 30px rgba(10,20,40,0.05); }
    .note-item { display:flex; justify-content:space-between; align-items:center; padding:12px; border-radius:10px; border:1px dashed #e8f2ff; margin-bottom:10px; }
    .note-btn { background:var(--blue,#0f6eff); color:#fff; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:700; }

    .search { display:flex; gap:8px; align-items:center; }
    .search input { padding:10px 12px; border-radius:10px; border:1px solid #e6eefb; min-width:260px; }

    @media (max-width:900px) {
      .class-tile { min-width:160px; }
      .search input { min-width:140px; }
    }
  </style>
</head>
<body>

  <!-- ================= original container (unchanged) ================= -->
  <div class="container">
    <header class="nav">
      <div class="brand">
        <div class="logo">SR</div>
        <div>
          <h1>Shree Ram Coaching</h1>
          <div class="muted" style="font-size:13px">Foundation • Boards • Test Prep</div>
        </div>
      </div>

      <nav class="nav-links">
        <a href="#courses">Courses</a>
        <a href="#teachers">Teachers</a>
        <a href="#contact">Contact</a>
      </nav>
    </header>

    <main>
      <section id="courses" style="margin-top: 30px;">
        <h2>Courses Section (Content here)</h2>
        <p>This is the main site content. The user will see this after selecting a plan.</p>
      </section>
      <!-- Add your full site content here -->
    </main>

    <footer style="margin: 30px 0; text-align: center; color: #6b7280;">
      © Shree Ram Coaching — Demo site.
    </footer>
  </div>
  <!-- =============================================================== -->

  <!-- ================= original modal (unchanged) ================= -->
  <div id="planModal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal">
      <div class="plan">
        <h2>Free Plan</h2>
        <div class="price">₹0</div>
        <ul class="features">
          <li>Basic access to notes</li>
          <li>Limited PDFs</li>
          <li>Community support</li>
        </ul>
        <button class="free-btn" id="freeBtn">Continue with Free Plan</button>
      </div>
      <div class="plan">
        <h2>Pro Plan</h2>
        <div class="price">₹49 / month</div>
        <ul class="features">
          <li>Full access to notes & PDFs</li>
          <li>Priority doubt support</li>
          <li>Downloadable content</li>
        </ul>
        <button class="subscribe-btn" id="proBtn">Subscribe</button>
      </div>
      <div class="plan">
        <h2>Advanced Plan</h2>
        <div class="price">₹99 / month</div>
        <ul class="features">
          <li>All Pro features</li>
          <li>One-on-one mentoring</li>
          <li>Exclusive video content</li>
        </ul>
        <button class="subscribe-btn" id="advBtn">Subscribe</button>
      </div>
    </div>
  </div>
  <!-- =============================================================== -->

  <!-- ================= App (hidden initially) ================= -->
  <div id="app" class="app app-hidden" aria-hidden="true">
    <div class="app-header">
      <div style="display:flex;gap:12px;align-items:center">
        <div class="logoBox">SR</div>
        <nav style="display:flex;gap:12px;align-items:center">
          <a href="#home" onclick="gotoHome()">Home</a>
          <a href="#courses" onclick="gotoCourses()">Courses</a>
          <a href="#teachers" onclick="gotoTeachers()">Teachers</a>
        </nav>
      </div>

      <div style="text-align:center;flex:1">
        <div style="font-weight:800;font-size:18px">Shree Ram Coaching</div>
        <div class="small-muted">Foundation • Boards • Test Prep</div>
      </div>

      <div style="display:flex;gap:10px;align-items:center">
        <div class="search"><input id="searchBox" placeholder="Search e.g. class 10 chemistry ch1" oninput="handleSearch()" /></div>
        <div id="planBadge" style="background:#eef6ff;color:#0f6eff;padding:8px 10px;border-radius:8px;font-weight:700">Free</div>
        <div style="width:44px;height:44px;border-radius:50%;background:#f1f5f9;display:flex;align-items:center;justify-content:center;font-weight:700">ID</div>
      </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboard" class="dashboard">
      <div style="margin-top:18px;display:flex;justify-content:space-between;align-items:center;gap:12px">
        <div>
          <h2 style="margin:0">Classes</h2>
          <div class="small-muted">Pick a class to start</div>
        </div>
        <div style="display:flex;gap:10px">
          <button onclick="resetApp()" style="padding:8px 12px;border-radius:8px;border:none;background:#f3f4f6;cursor:pointer">Reset</button>
        </div>
      </div>

      <div class="dash-grid" id="classesGrid" style="margin-top:12px"></div>
    </div>

    <!-- Class Page -->
    <div id="classPage" class="class-page app-hidden" aria-hidden="true">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
        <div class="breadcrumbs" id="breadcrumbs"></div>
        <div style="display:flex;gap:8px">
          <button onclick="backToDashboard()" style="padding:8px 10px;border-radius:8px;border:none;background:#eef6ff;cursor:pointer">Back</button>
        </div>
      </div>

      <div style="display:flex;gap:18px;flex-wrap:wrap;align-items:flex-start;margin-top:18px">
        <div style="flex:1;min-width:260px">
          <div style="font-weight:800">Subjects</div>
          <div class="subject-list" id="subjectList"></div>
        </div>

        <div style="flex:1;min-width:260px">
          <div style="font-weight:800">Chapters</div>
          <div class="chapter-list" id="chapterList"></div>
        </div>

        <div style="flex:1.2;min-width:300px">
          <div style="font-weight:800">Notes</div>
          <div class="notes-panel" id="notesPanel"><div class="small-muted">Select a chapter to see notes</div></div>
        </div>
      </div>
    </div>
  </div>
  <!-- =============================================================== -->

  <!-- ================= App Script ================= -->
  <script>
    // sample PDF
    const samplePDF = 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf';

    // data structure
    const data = {
      "class 9": {
        "Chemistry": {
          "ch1": [{ title: "Ch1: Matter - Notes", url: samplePDF }],
          "ch2": [{ title: "Ch2: Atoms - Notes", url: samplePDF }]
        },
        "Physics": {
          "ch1": [{ title: "Ch1: Motion", url: samplePDF }],
          "ch2": [{ title: "Ch2: Force", url: samplePDF }]
        }
      },
      "class 10": {
        "Chemistry": {
          "ch1": [{ title: "Ch1: Chemical Reactions", url: samplePDF }],
          "ch2": [{ title: "Ch2: Acids & Bases", url: samplePDF }]
        },
        "Physics": {
          "ch1": [{ title: "Ch1: Light", url: samplePDF }],
          "ch2": [{ title: "Ch2: Electricity", url: samplePDF }]
        }
      },
      "class 11": {
        "Chemistry": {
          "ch1": [{ title: "Ch1: Atomic Structure", url: samplePDF }],
          "ch2": [{ title: "Ch2: Chemical Bonding", url: samplePDF }]
        },
        "Physics": {
          "ch1": [{ title: "Ch1: Kinematics", url: samplePDF }],
          "ch2": [{ title: "Ch2: Laws of Motion", url: samplePDF }]
        }
      }
    };

    // elements
    const planModal = document.getElementById('planModal');
    const appEl = document.getElementById('app');
    const dashboardEl = document.getElementById('dashboard');
    const classPageEl = document.getElementById('classPage');
    const classesGrid = document.getElementById('classesGrid');
    const subjectList = document.getElementById('subjectList');
    const chapterList = document.getElementById('chapterList');
    const notesPanel = document.getElementById('notesPanel');
    const planBadge = document.getElementById('planBadge');
    const searchBox = document.getElementById('searchBox');
    const breadcrumbsEl = document.getElementById('breadcrumbs');

    // wire original modal buttons to app starter (keeps UI unchanged)
    document.getElementById('freeBtn').addEventListener('click', () => startApp('Free'));
    document.getElementById('proBtn').addEventListener('click', () => startApp('Pro'));
    document.getElementById('advBtn').addEventListener('click', () => startApp('Advanced'));

    function startApp(planName) {
      // hide modal exactly as original UI behavior
      planModal.style.display = 'none';
      document.body.classList.remove('modal-open');

      // store and update badge
      localStorage.setItem('src_selectedPlan', planName);
      planBadge.textContent = planName;

      // show app
      appEl.classList.remove('app-hidden');
      appEl.setAttribute('aria-hidden', 'false');

      renderClasses();
      setTimeout(()=> searchBox.focus(), 250);
    }

    window.addEventListener('load', () => {
      const saved = localStorage.getItem('src_selectedPlan');
      if (saved) {
        // hide modal and show app immediately
        planModal.style.display = 'none';
        document.body.classList.remove('modal-open');
        planBadge.textContent = saved;
        appEl.classList.remove('app-hidden');
        appEl.setAttribute('aria-hidden','false');
        renderClasses();
      } else {
        // show original modal like your UI does
        const modal = document.getElementById('planModal');
        modal.style.display = 'flex';
        document.body.classList.add('modal-open');
      }
    });

    // render classes on dashboard
    function renderClasses() {
      classesGrid.innerHTML = '';
      Object.keys(data).forEach(cls => {
        const tile = document.createElement('div');
        tile.className = 'class-tile';
        tile.innerHTML = `<div style="font-weight:900">${cls.toUpperCase()}</div><div class="small-muted">See subjects & chapters</div>`;
        tile.onclick = () => openClass(cls);
        classesGrid.appendChild(tile);
      });
    }

    let currentClass = null;
    let currentSubject = null;
    let currentChapter = null;

    function openClass(cls) {
      currentClass = cls;
      dashboardEl.style.display = 'none';
      classPageEl.classList.remove('app-hidden');
      classPageEl.setAttribute('aria-hidden','false');

      renderBreadcrumbs();
      renderSubjectsForClass(cls);
      chapterList.innerHTML = '';
      notesPanel.innerHTML = '<div class="small-muted">Select a chapter to see notes</div>';
    }

    function backToDashboard() {
      classPageEl.classList.add('app-hidden');
      classPageEl.setAttribute('aria-hidden','true');
      dashboardEl.style.display = 'block';
      currentClass = currentSubject = currentChapter = null;
      renderBreadcrumbs();
    }

    function renderSubjectsForClass(cls) {
      subjectList.innerHTML = '';
      const subs = Object.keys(data[cls] || {});
      subs.forEach(sub => {
        const el = document.createElement('div');
        el.className = 'subject';
        el.textContent = sub;
        el.onclick = () => selectSubject(sub, el);
        subjectList.appendChild(el);
      });
    }

    function selectSubject(sub, el) {
      Array.from(subjectList.children).forEach(c => c.classList.remove('active'));
      el.classList.add('active');

      currentSubject = sub;
      currentChapter = null;

      chapterList.innerHTML = '';
      const chaps = Object.keys(data[currentClass][sub] || {});
      chaps.forEach(ch => {
        const cel = document.createElement('div');
        cel.className = 'chapter';
        cel.innerHTML = `<div style="font-weight:800">${ch}</div><div class="small-muted">Open notes</div>`;
        cel.onclick = () => selectChapter(ch, cel);
        chapterList.appendChild(cel);
      });

      renderBreadcrumbs();
      notesPanel.innerHTML = '<div class="small-muted">Select a chapter to see notes</div>';
    }

    function selectChapter(ch, el) {
      Array.from(chapterList.children).forEach(c => c.classList.remove('active'));
      el.classList.add('active');

      currentChapter = ch;
      const items = (data[currentClass] && data[currentClass][currentSubject] && data[currentClass][currentSubject][ch]) || [];
      notesPanel.innerHTML = '<div style="margin-bottom:10px;font-weight:800">Notes / PDFs</div>';
      if (items.length === 0) {
        notesPanel.innerHTML += '<div class="small-muted">No notes available</div>';
        return;
      }
      items.forEach(it => {
        const n = document.createElement('div');
        n.className = 'note-item';
        n.innerHTML = `<div style="font-weight:700">${it.title}</div><div><button class="note-btn" onclick="window.open('${it.url}','_blank')">Open</button></div>`;
        notesPanel.appendChild(n);
      });

      renderBreadcrumbs();
    }

    function renderBreadcrumbs() {
      let html = `<span style="color:#9aa4b2">Home</span>`;
      if (currentClass) html += `<span class="arrow">→</span><span>${currentClass}</span>`;
      if (currentSubject) html += `<span class="arrow">→</span><span>${currentSubject}</span>`;
      if (currentChapter) html += `<span class="arrow">→</span><span>${currentChapter}</span>`;
      breadcrumbsEl.innerHTML = html;
    }

    // search parser & fuzzy search
    function handleSearch() {
      const q = searchBox.value.trim().toLowerCase();
      if (!q) return;

      let clsKey = null;
      Object.keys(data).forEach(k => { if (q.includes(k)) clsKey = k; });

      let subjectKey = null;
      if (clsKey) {
        Object.keys(data[clsKey]).forEach(s => { if (q.includes(s.toLowerCase())) subjectKey = s; });
      } else {
        Object.keys(data).forEach(k => {
          Object.keys(data[k]).forEach(s => {
            if (q.includes(s.toLowerCase())) { subjectKey = s; clsKey = k; }
          });
        });
      }

      let chapterKey = null;
      const chMatch = q.match(/ch(?:apter)?\s*?(\d+)/) || q.match(/ch(\d+)/);
      if (chMatch) chapterKey = 'ch' + chMatch[1];

      if (clsKey && subjectKey && chapterKey && data[clsKey] && data[clsKey][subjectKey] && data[clsKey][subjectKey][chapterKey]) {
        openClass(clsKey);
        setTimeout(()=> {
          Array.from(subjectList.children).forEach(c => { if (c.textContent === subjectKey) c.click(); });
          setTimeout(()=> {
            Array.from(chapterList.children).forEach(c => { if (c.firstChild && c.firstChild.textContent === chapterKey) c.click(); });
          }, 120);
        }, 120);
        return;
      }

      const results = [];
      Object.keys(data).forEach(cls=>{
        Object.keys(data[cls]).forEach(sub=>{
          Object.keys(data[cls][sub]).forEach(ch=>{
            (data[cls][sub][ch] || []).forEach(it=>{
              const combined = `${cls} ${sub} ${ch} ${it.title}`.toLowerCase();
              if (combined.includes(q)) results.push({cls, sub, ch, it});
            });
          });
        });
      });

      if (results.length) {
        const r = results[0];
        openClass(r.cls);
        setTimeout(()=> {
          Array.from(subjectList.children).forEach(c => { if (c.textContent === r.sub) c.click(); });
          setTimeout(()=> {
            Array.from(chapterList.children).forEach(c => { if (c.firstChild && c.firstChild.textContent === r.ch) c.click(); });
            setTimeout(()=> {
              const noteButtons = notesPanel.querySelectorAll('.note-item');
              if (noteButtons.length) noteButtons[0].scrollIntoView({behavior:'smooth', block:'center'});
            }, 150);
          }, 120);
        }, 120);
        return;
      }

      alert('No notes found for: ' + q);
    }

    function resetApp() {
      localStorage.removeItem('src_selectedPlan');
      location.reload();
    }

    function gotoHome(){ window.scrollTo({top:0, behavior:'smooth'}); }
    function gotoCourses(){ window.scrollTo({top:300, behavior:'smooth'}); }
    function gotoTeachers(){ window.scrollTo({top:600, behavior:'smooth'}); }

    window._SRC = { data, openClass, selectChapter, selectSubject: (s)=>{} };
  </script>
  <!-- =============================================================== -->
</body>
</html>
